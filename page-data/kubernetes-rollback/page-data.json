{
    "componentChunkName": "component---gatsby-theme-code-notes-src-templates-note-js",
    "path": "/kubernetes-rollback/",
    "result": {"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"emoji\": \"ğŸ’»\",\n  \"title\": \"[Kubernetes] Rollback\",\n  \"created\": \"2021-08-31T00:00:00.000Z\",\n  \"modified\": \"2021-08-31T00:00:00.000Z\",\n  \"link\": \"\",\n  \"tags\": [\"Infra\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"br\", null), mdx(\"h1\", {\n    \"id\": \"â-ì‹¤ìŠµ-ë‚´ìš©\"\n  }, mdx(\"strong\", {\n    parentName: \"h1\"\n  }, \"\\u2750 \\uC2E4\\uC2B5 \\uB0B4\\uC6A9\")), mdx(\"p\", null, \"mongo:4.2\\uB97C \\uC2E4\\uD589\\uD558\\uB294 \\uD30C\\uB4DC\\uB97C mongo:4.4\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD55C \\uD6C4, mongo:4.2\\uB85C \\uB864\\uBC31\\uD574\\uBD05\\uC2DC\\uB2E4.\"), mdx(\"br\", null), mdx(\"br\", null), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼-ì‚¬ìš©í•˜ì—¬-íŒŒë“œ-ìƒì„±\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uB514\\uD50C\\uB85C\\uC774\\uBA3C\\uD2B8\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uD30C\\uB4DC \\uC0DD\\uC131\")), mdx(\"p\", null, \"mongo:4.2 \\uC774\\uBBF8\\uC9C0\\uB97C \\uC2E4\\uD589\\uD558\\uB294 \\uD30C\\uB4DC\\uB97C \\uC0DD\\uC131\\uD558\\uACE0, 3\\uAC1C\\uC758 \\uD30C\\uB4DC\\uAC00 \\uC720\\uC9C0\\uB418\\uB3C4\\uB85D \\uAD00\\uB9AC\\uD558\\uB294 \\uB514\\uD50C\\uB85C\\uC774\\uBA3C\\uD2B8\\uB97C \\uC0DD\\uC131\\uD569\\uB2C8\\uB2E4. \\uC774 \\uB514\\uD50C\\uB85C\\uC774\\uBA3C\\uD2B8 \\uC774\\uB984\\uC740 mongo-deploy\\uB85C \\uC9C0\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\\n\\uD574\\uB2F9 \\uBA85\\uB839\\uC5B4\\uB294 \\uD788\\uC2A4\\uD1A0\\uB9AC\\uC5D0 \\uAE30\\uB85D\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl create deploy mongo-deploy --image=mongo:4.2 --replicas=3 --dry-run=client -o yaml > mongo-deploy.yaml\\n\\nroot@instance-1:~# kubectl apply -f mongo-deploy.yaml --record=true\\ndeployment.apps/mongo-deploy created\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œ-í™•ì¸\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC \\uD655\\uC778\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pod\\nNAME                            READY   STATUS    RESTARTS   AGE\\nmongo-deploy-7b856d549b-mc8v2   1/1     Running   0          6s\\nmongo-deploy-7b856d549b-ncm5b   1/1     Running   0          6s\\nmongo-deploy-7b856d549b-t7qhs   1/1     Running   0          6s\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC\\uAC00 \\uC2E4\\uD589\\uD558\\uACE0 \\uC788\\uB294 mongo \\uBC84\\uC804 \\uD655\\uC778\")), mdx(\"p\", null, \"mongo:4.2\\uAC00 \\uC2E4\\uD589 \\uC911\\uC778 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pod -o yaml mongo-deploy-7b856d549b-mc8v2\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  creationTimestamp: \\\"2021-09-02T15:06:59Z\\\"\\n  generateName: mongo-deploy-7b856d549b-\\n  labels:\\n    app: mongo-deploy\\n    pod-template-hash: 7b856d549b\\n  name: mongo-deploy-7b856d549b-mc8v2\\n  namespace: default\\n  ownerReferences:\\n  - apiVersion: apps/v1\\n    blockOwnerDeletion: true\\n    controller: true\\n    kind: ReplicaSet\\n    name: mongo-deploy-7b856d549b\\n    uid: 830f3c35-6ab1-4eb1-a7e2-ea78c6ff1a6b\\n  resourceVersion: \\\"68961\\\"\\n  uid: 78758cf8-6ce8-4b75-a792-44e4bdcb3528\\nspec:\\n  containers:\\n  - image: mongo:4.2\\n    imagePullPolicy: IfNotPresent\\n    name: mongo\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íˆìŠ¤í† ë¦¬-í™•ì¸\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD788\\uC2A4\\uD1A0\\uB9AC \\uD655\\uC778\")), mdx(\"p\", null, \"\\uD788\\uC2A4\\uD1A0\\uB9AC \\uB0B4\\uC5ED\\uC5D0 \\uAE30\\uB85D\\uC774 \\uCD94\\uAC00\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl rollout history deploy mongo-deploy\\ndeployment.apps/mongo-deploy \\nREVISION  CHANGE-CAUSE\\n1         kubectl apply --filename=mongo-deploy.yaml --record=true\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"yamlíŒŒì¼ì—-ëª…ì‹œë˜ì–´-ìˆëŠ”-mongo-ë²„ì „-ë³€ê²½\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"yaml\\uD30C\\uC77C\\uC5D0 \\uBA85\\uC2DC\\uB418\\uC5B4 \\uC788\\uB294 mongo \\uBC84\\uC804 \\uBCC0\\uACBD\")), mdx(\"p\", null, \"mongo-deploy.yaml \\uD30C\\uC77C\\uC744 \\uC5F4\\uC5B4 mongo:4.2 -> mongo:4.4\\uC73C\\uB85C \\uC218\\uC815\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# vi mongo-deploy.yaml\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"ìˆ˜ì •í•œ-yamlíŒŒì¼-ì ìš©\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uC218\\uC815\\uD55C yaml\\uD30C\\uC77C \\uC801\\uC6A9\")), mdx(\"p\", null, \"\\uC218\\uC815\\uD55C yaml\\uD30C\\uC77C\\uC744 \\uC801\\uC6A9\\uD569\\uB2C8\\uB2E4.\\n\\uD574\\uB2F9 \\uBA85\\uB839\\uC5B4\\uB294 \\uD788\\uC2A4\\uD1A0\\uB9AC\\uC5D0 \\uAE30\\uB85D\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl apply -f mongo-deploy.yaml --record=true\\ndeployment.apps/mongo-deploy configured\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œ-í™•ì¸-1\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC \\uD655\\uC778\")), mdx(\"p\", null, \"\\uC0C8\\uB85C\\uC6B4 \\uD30C\\uB4DC 3\\uAC1C\\uAC00 \\uC0DD\\uC131\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pods\\nNAME                           READY   STATUS    RESTARTS   AGE\\nmongo-deploy-948457786-27fqk   1/1     Running   0          14s\\nmongo-deploy-948457786-6lnvz   1/1     Running   0          12s\\nmongo-deploy-948457786-mz5ff   1/1     Running   0          15s\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸-1\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC\\uAC00 \\uC2E4\\uD589\\uD558\\uACE0 \\uC788\\uB294 mongo \\uBC84\\uC804 \\uD655\\uC778\")), mdx(\"p\", null, \"mongo:4.4\\uAC00 \\uC2E4\\uD589 \\uC911\\uC778 \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pod -o yaml mongo-deploy-948457786-27fqk\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  creationTimestamp: \\\"2021-09-02T15:08:23Z\\\"\\n  generateName: mongo-deploy-948457786-\\n  labels:\\n    app: mongo-deploy\\n    pod-template-hash: \\\"948457786\\\"\\n  name: mongo-deploy-948457786-27fqk\\n  namespace: default\\n  ownerReferences:\\n  - apiVersion: apps/v1\\n    blockOwnerDeletion: true\\n    controller: true\\n    kind: ReplicaSet\\n    name: mongo-deploy-948457786\\n    uid: 04c001f0-bf2a-4fb9-b414-74858ba4d577\\n  resourceVersion: \\\"69135\\\"\\n  uid: 8743139a-e91e-4eea-843a-6e10a801f598\\nspec:\\n  containers:\\n  - image: mongo:4.4\\n    imagePullPolicy: IfNotPresent\\n    name: mongo\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íˆìŠ¤í† ë¦¬-í™•ì¸-1\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD788\\uC2A4\\uD1A0\\uB9AC \\uD655\\uC778\")), mdx(\"p\", null, \"\\uD788\\uC2A4\\uD1A0\\uB9AC \\uB0B4\\uC5ED\\uC5D0 \\uAE30\\uB85D\\uC774 \\uCD94\\uAC00\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl rollout history deploy mongo-deploy\\ndeployment.apps/mongo-deploy \\nREVISION  CHANGE-CAUSE\\n1         kubectl apply --filename=mongo-deploy.yaml --record=true\\n2         kubectl apply --filename=mongo-deploy.yaml --record=true\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"ë¡¤ë°±í•˜ê¸°\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uB864\\uBC31\\uD558\\uAE30\")), mdx(\"p\", null, \"\\uD788\\uC2A4\\uD1A0\\uB9AC\\uB97C \\uB864\\uBC31\\uD569\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl rollout undo deploy mongo-deploy\\ndeployment.apps/mongo-deploy rolled back\\n\\nroot@instance-1:~# kubectl rollout history deploy mongo-deploy\\ndeployment.apps/mongo-deploy \\nREVISION  CHANGE-CAUSE\\n2         kubectl apply --filename=mongo-deploy.yaml --record=true\\n3         kubectl apply --filename=mongo-deploy.yaml --record=true\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œ-í™•ì¸-2\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC \\uD655\\uC778\")), mdx(\"p\", null, \"\\uC0C8\\uB85C\\uC6B4 \\uD30C\\uB4DC 3\\uAC1C\\uAC00 \\uC0DD\\uC131\\uB41C \\uAC83\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pods\\nNAME                            READY   STATUS    RESTARTS   AGE\\nmongo-deploy-7b856d549b-6gzxs   1/1     Running   0          59s\\nmongo-deploy-7b856d549b-7cfdk   1/1     Running   0          57s\\nmongo-deploy-7b856d549b-jrv9j   1/1     Running   0          58s\\n\")), mdx(\"br\", null), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸-2\"\n  }, mdx(\"strong\", {\n    parentName: \"h3\"\n  }, \"\\uD30C\\uB4DC\\uAC00 \\uC2E4\\uD589\\uD558\\uACE0 \\uC788\\uB294 mongo \\uBC84\\uC804 \\uD655\\uC778\")), mdx(\"p\", null, \"mongo:4.4\\uC5D0\\uC11C mongo:4.2\\uB85C \\uB864\\uBC31\\uB41C \\uAC83\\uC744 \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"root@instance-1:~# kubectl get pod -o yaml mongo-deploy-7b856d549b-6gzxs\\napiVersion: v1\\nkind: Pod\\nmetadata:\\n  creationTimestamp: \\\"2021-09-02T15:10:14Z\\\"\\n  generateName: mongo-deploy-7b856d549b-\\n  labels:\\n    app: mongo-deploy\\n    pod-template-hash: 7b856d549b\\n  name: mongo-deploy-7b856d549b-6gzxs\\n  namespace: default\\n  ownerReferences:\\n  - apiVersion: apps/v1\\n    blockOwnerDeletion: true\\n    controller: true\\n    kind: ReplicaSet\\n    name: mongo-deploy-7b856d549b\\n    uid: 830f3c35-6ab1-4eb1-a7e2-ea78c6ff1a6b\\n  resourceVersion: \\\"69349\\\"\\n  uid: 39e47ef4-d467-4a2b-8336-74f2a017cd4b\\nspec:\\n  containers:\\n  - image: mongo:4.2\\n    imagePullPolicy: IfNotPresent\\n    name: mongo\\n\")), mdx(\"br\", null), mdx(\"br\", null));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"[Kubernetes] Rollback","tags":["Infra"],"emoji":"ğŸ’»","link":"","modified":"August 31, 2021","modifiedTimestamp":"2021-08-31T00:00:00.000Z"},"references":[],"fields":{"slug":"/kubernetes-rollback"},"tableOfContents":{"items":[{"url":"#â-ì‹¤ìŠµ-ë‚´ìš©","title":"â ì‹¤ìŠµ ë‚´ìš©","items":[{"items":[{"url":"#ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼-ì‚¬ìš©í•˜ì—¬-íŒŒë“œ-ìƒì„±","title":"ë””í”Œë¡œì´ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒë“œ ìƒì„±"},{"url":"#íŒŒë“œ-í™•ì¸","title":"íŒŒë“œ í™•ì¸"},{"url":"#íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸","title":"íŒŒë“œê°€ ì‹¤í–‰í•˜ê³  ìˆëŠ” mongo ë²„ì „ í™•ì¸"},{"url":"#íˆìŠ¤í† ë¦¬-í™•ì¸","title":"íˆìŠ¤í† ë¦¬ í™•ì¸"},{"url":"#yamlíŒŒì¼ì—-ëª…ì‹œë˜ì–´-ìˆëŠ”-mongo-ë²„ì „-ë³€ê²½","title":"yamlíŒŒì¼ì— ëª…ì‹œë˜ì–´ ìˆëŠ” mongo ë²„ì „ ë³€ê²½"},{"url":"#ìˆ˜ì •í•œ-yamlíŒŒì¼-ì ìš©","title":"ìˆ˜ì •í•œ yamlíŒŒì¼ ì ìš©"},{"url":"#íŒŒë“œ-í™•ì¸-1","title":"íŒŒë“œ í™•ì¸"},{"url":"#íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸-1","title":"íŒŒë“œê°€ ì‹¤í–‰í•˜ê³  ìˆëŠ” mongo ë²„ì „ í™•ì¸"},{"url":"#íˆìŠ¤í† ë¦¬-í™•ì¸-1","title":"íˆìŠ¤í† ë¦¬ í™•ì¸"},{"url":"#ë¡¤ë°±í•˜ê¸°","title":"ë¡¤ë°±í•˜ê¸°"},{"url":"#íŒŒë“œ-í™•ì¸-2","title":"íŒŒë“œ í™•ì¸"},{"url":"#íŒŒë“œê°€-ì‹¤í–‰í•˜ê³ -ìˆëŠ”-mongo-ë²„ì „-í™•ì¸-2","title":"íŒŒë“œê°€ ì‹¤í–‰í•˜ê³  ìˆëŠ” mongo ë²„ì „ í™•ì¸"}]}]}]},"parent":{"relativePath":"kubernetes-rollback.md"}}},"pageContext":{"id":"eff1f509-ec9b-5667-8a23-adf146f99225","previous":{"id":"c2a4a8b0-3222-5578-adf5-087fb69fb930","frontmatter":{"title":"[Kubernetes] kubectl ì„¤ì¹˜í•˜ê³  ì‚¬ìš©í•˜ê¸° (Mac OS ê¸°ì¤€)","tags":["Infra"]},"fields":{"slug":"/kubuctl-cli-install"}},"next":{"id":"d3809cb2-0a39-57ab-a121-c9f640c59a2b","frontmatter":{"title":"[Kubernetes] Replicasetì˜ ë¬¸ì œì ","tags":["Infra"]},"fields":{"slug":"/kubernetes-replicaset2"}},"hasUntagged":false,"basePath":"/","tags":[{"tag":"DB","totalCount":1,"slug":"/db/","path":"/tag/db/"},{"tag":"Etc","totalCount":4,"slug":"/etc/","path":"/tag/etc/"},{"tag":"Infra","totalCount":16,"slug":"/infra/","path":"/tag/infra/"},{"tag":"Java","totalCount":1,"slug":"/java/","path":"/tag/java/"},{"tag":"Javascript","totalCount":3,"slug":"/javascript/","path":"/tag/javascript/"},{"tag":"React","totalCount":6,"slug":"/react/","path":"/tag/react/"},{"tag":"React Native","totalCount":56,"slug":"/react-native/","path":"/tag/react-native/"}]}},
    "staticQueryHashes": ["2744905544","460306843","467212769"]}